<div>

  <p-fieldset legend="Apostas">
    <div *ngIf="!viewEdit">

      <p-table #dtInstituicao [value]="bets" [paginator]="true" [rows]="5" responsiveLayout="scroll">
        <ng-template pTemplate="caption">
          <div class="flex">
            <button type="button" pButton pRipple icon="pi pi-file-excel" (click)="exportExcel()" class="p-button-success mr-2"  pTooltip="XLS" tooltipPosition="bottom"></button>          
            <button type="button" pButton pRipple icon="pi pi-plus" (click)="new()" class="p-button-info ml-auto" pTooltip="CRIAR" tooltipPosition="bottom"></button>
          </div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th width="20">Aposta</th>
            <th width="20">Tipo de aposta</th>
            <th width="10">Valor</th>
            <th width="20">Resultado</th>
            <th width="10">Lucro</th>
            <th width="20">Ações</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-bet>
          <tr>
            <td>{{bet.bet}}</td>
            <td>{{bet.type}}</td>
            <td>{{bet.paidOut}}</td>
            <td>{{bet.result}}</td>
            <td>{{bet.lucre}}</td>
            <td>
              <button pButton type="button" icon="pi pi-pencil" (click)="edit(bet)" 
                class="p-button-raised p-button-rounded" pTooltip="Editar"
                tooltipPosition="bottom"></button>
              <button pButton type="button" icon="pi pi-eye" (click)="view(bet)" 
                class="p-button-raised p-button-secondary p-button-rounded" pTooltip="Visualizar"
                tooltipPosition="bottom"></button>
              <button pButton type="button" icon="pi pi-trash" (click)="confirmDelete(bet)" 
                class="p-button-raised p-button-danger p-button-rounded" pTooltip="Deletar"
                tooltipPosition="bottom"></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
    <div *ngIf="viewEdit">
      <div class="grid p-fluid">
        <div class="field col-4">
            <label>Tipo de Aposta</label>
            <input required type="text" [disabled]="!editation" pInputText [(ngModel)]="bet.type" />
        </div>
        <div class="field col-4">
            <label>Data da Aposta</label>
            <p-calendar [(ngModel)]="bet.betDate" dateFormat="dd/mm/yy" [disabled]="!editation"></p-calendar>
        </div>
        <div class="field col-4">
            <label>Data do Resultado</label>
            <p-calendar [(ngModel)]="bet.resultDate" dateFormat="dd/mm/yy" [disabled]="!editation"></p-calendar>
        </div>
        <div class="field col-9">
            <label>Aposta</label>
            <input required type="text" [disabled]="!editation" pInputText [(ngModel)]="bet.bet" />
        </div>
        <div class="field col-3">
            <label>Valor</label>
            <p-inputNumber [(ngModel)]="bet.paidOut" inputId="currency-br" mode="currency" currency="BRL" locale="pt-BR" [disabled]="!editation"></p-inputNumber>
        </div>
        <div class="field col-9">
            <label>Resultado</label>
            <input required type="text" [disabled]="!editation" pInputText [(ngModel)]="bet.result" />
        </div>
        <div class="field col-3">
            <label>Lucro</label>
            <p-inputNumber [(ngModel)]="bet.lucre" inputId="currency-br" mode="currency" currency="BRL" locale="pt-BR" [disabled]="!editation"></p-inputNumber>
        </div>
      </div>
      <div class="footer">
          <div class="flex flex-row-reverse">
              <button pButton *ngIf="editation" (click)="save()" icon="pi pi-save" type="button" label="Salvar" ></button>
              <button pButton *ngIf="!editation" class="p-button-danger" icon="pi pi-arrow-left" (click)="close()" type="button" label="Voltar" ></button>
              <button pButton *ngIf="editation" class="p-button-danger" icon="pi pi-times" (click)="close()" type="button" label="Cancelar" ></button>
          </div>
      </div>

    </div>
  </p-fieldset>

</div>
